<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>关于Genymotion模拟器中Android5.1中使用中文输入法</title>
      <link href="/posts/2d6f2ae/"/>
      <url>/posts/2d6f2ae/</url>
      
        <content type="html"><![CDATA[<p>环境：</p><ul><li>操作系统：Windows 10</li><li>模拟器：Genymotion2.8.1</li><li>Genymotion依赖：VirtualBox5.1.14</li><li>安卓版本：Google Nexus 5 - 5.1.0 - API 22 - 1080x1920</li><li>安卓环境：ARM_Translation_Lollipop</li></ul><p>Genymotion模拟器中使用的android版本是基于intel处理器的x86版，而大部分我们使用的android版本都是arm版的；在模拟器中4.4以及以上版本的安卓没有中文输入法，在上述环境中试过了百度、手心、搜狗、讯飞、QQ、触宝和谷歌pinyin等的输入法之后，都无法使用，其中谷歌pinyin输入法无法安装，其他输入法可以安装但均无法使用；当天鼓捣无果便放弃了治疗。 最终解决方案： 由于开发会时常用到该模拟器，又迫不得已要用到一些中文字符串去测试，所以今天又开始鼓捣起来，在一通google无果之后，便无聊的在酷安的输入法应用列表中看到了“必应输入法”，想想微软的Windows，估计这货跟x86有点关联，于是下载并安装了。果然这货可以安装运行（在非ARM_Translation_Lollipop的环境下）。</p><div align="center"><br><br><img src="/image/2017/02/2017-02-13_142714-5.1.png" alt=""><img src="/image/2017/02/2017-02-13_142906-4.4.png" alt=""><br></div><p>使用方法如下：</p><ul><li>下载并安装“必应输入法”</li><li>打开输入法，根据提示设置</li></ul><p>Android5.1:</p><ul><li>设置-语言和输入法-当前输入法-硬件&gt;显示输入法，此处的按钮需要打开</li></ul><p>Android4.4:</p><ul><li>设置-语言和输入法-默认-硬件&gt;物理键盘，此处按钮需要关闭</li></ul><p>存在问题：需要在输入法软件盘上一个个的点击，电脑的键盘操作不了。 其他安卓版本（6.0及以上）的话没去试，需要的话可以去尝试一下，应该是可以的。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> 日常笔记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>[Android]制作底部导航栏，使用Iconfont，并添加滑动事件</title>
      <link href="/posts/f9be5b4d/"/>
      <url>/posts/f9be5b4d/</url>
      
        <content type="html"><![CDATA[<p>因为要赶一个项目，android的学习不得不加快进度了。 现在导航栏有许多种，不过先从基本的开始，以下是效果图： </p><p><img src="/image/2016/10/tab_menu_use_iconfont_gif.gif" alt="tab_menu_use_iconfont_gif"> </p><p>这次用到的一些知识有： Fragment、ViewPager、RadioGroup、FragmentPagerAdapter、android.support.v4包。 app工程文件结构： </p><p><img src="/image/2016/10/tab_menu_use_iconfont文件结构-120x300.png" alt="tab_menu_use_iconfont文件结构"> </p><p>除了新建的类，还有导入的iconfont字体文件，android-support-v4包，以及选中按钮颜色tab_oncheck_color.xml、导航栏背景tab_checked_bg.xml。 先写布局文件：</p><linearlayout xmlns:android="https://schemas.android.com/apk/res/android" xmlns:tools="https://schemas.android.com/tools" android:layout\_width="match\_parent" android:layout\_height="match\_parent" android:orientation="vertical" tools:context="com.example.buttom_tab.MainActivity"><br><br>    &lt;android.support.v4.view.ViewPager<br>        android:id=”@+id/viewPager”<br>        android:layout_width=”match_parent”<br>        android:layout_height=”0dp”<br>        android:layout_gravity=”bottom”<br>        android:layout_weight=”1” /&gt;<br>    &lt;!-- android:text=<a href="http://www.isflee.com/wordpress/wp-admin/plugins.php&quot;@string/icon_home&quot;" target="_blank" rel="noopener">http://www.isflee.com/wordpress/wp-admin/plugins.php&quot;@string/icon_home&quot;</a> –&gt;<br>    &lt;!-- iconfont字体，放进包中的assets文件夹后再在string.xml中声明 –&gt;<br>    <radiogroup android:id="@+id/rg_tab" android:layout\_width="fill\_parent" android:layout\_height="wrap\_content" android:background="#CCC" android:orientation="horizontal"><br><br>        <radiobutton android:id="@+id/rb_one" android:layout\_width="wrap\_content" android:layout\_height="wrap\_content" android:layout_weight="1" android:background="@drawable/tab\_checked\_bg" android:button="@null" android:checked="true" android:gravity="center_horizontal" android:paddingbottom="8dp" android:paddingtop="10dp" android:text="@string/icon_home" android:textcolor="@color/tab\_oncheck\_color" android:textsize="28sp"><br><br>        <radiobutton android:id="@+id/rb_two" android:layout\_width="wrap\_content" android:layout\_height="wrap\_content" android:layout_weight="1" android:background="@drawable/tab\_checked\_bg" android:button="@null" android:checked="false" android:gravity="center_horizontal" android:paddingbottom="8dp" android:paddingtop="10dp" android:text="@string/icon_more" android:textcolor="@color/tab\_oncheck\_color" android:textsize="30sp"><br><br>        <radiobutton android:id="@+id/rb_three" android:layout\_width="wrap\_content" android:layout\_height="wrap\_content" android:layout_weight="1" android:background="@drawable/tab\_checked\_bg" android:button="@null" android:checked="false" android:gravity="center_horizontal" android:paddingbottom="8dp" android:paddingtop="10dp" android:text="@string/icon_chat" android:textcolor="@color/tab\_oncheck\_color" android:textsize="30sp"><br><br>        <radiobutton android:id="@+id/rb_four" android:layout\_width="wrap\_content" android:layout\_height="wrap\_content" android:layout_weight="1" android:background="@drawable/tab\_checked\_bg" android:button="@null" android:checked="false" android:gravity="center_horizontal" android:paddingbottom="8dp" android:paddingtop="10dp" android:text="@string/icon_user" android:textcolor="@color/tab\_oncheck\_color" android:textsize="30sp"><br>    </radiobutton></radiobutton></radiobutton></radiobutton></radiogroup><br><br></linearlayout><p>其中icon_home是Iconfont字体，要到官网上下载，在下载的压缩包中，打开demo.html，我们要用到其中的字体代码，并添加到string.xml中： <img src="/image/2016/10/android使用iconfont-300x186.png" alt="android使用iconfont"> 在RadioGroup中用了四个RadioButton，所以对应的Fragment也将有四个，以下是其中一个，其余相仿：</p><p>&lt;?xml version=”1.0” encoding=”utf-8”?&gt;</p><linearlayout xmlns:android="https://schemas.android.com/apk/res/android" android:layout\_width="match\_parent" android:layout\_height="match\_parent" android:orientation="vertical"><br><br>    <textview android:id="@+id/tab\_page\_one" android:layout\_width="wrap\_content" android:layout\_height="wrap\_content" android:text="第一个页面" android:textappearance="?android:attr/textAppearanceLarge"><br><br></textview></linearlayout><p>对应的类：</p><p>package com.example.tab_menu_use_iconfont;</p><p>import android.support.v4.app.Fragment;<br>import android.os.Bundle;<br>import android.view.LayoutInflater;<br>import android.view.View;<br>import android.view.ViewGroup;</p><p>public class Fragment_tab_one extends Fragment {</p><pre><code>@Overridepublic void onCreate(Bundle savedInstanceState) {    // TODO Auto-generated method stub    super.onCreate(savedInstanceState);}@Overridepublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {    // TODO Auto-generated method stub    View view = inflater.inflate(R.layout.fragment\_tab\_one, null);    return view;}</code></pre><p>}</p><p>添加一个FragmentPagerAdapter的类，因为要用到ViewPager。代码如下：</p><p>package com.example.tab_menu_use_iconfont;</p><p>import android.support.v4.app.Fragment;<br>import android.support.v4.app.FragmentManager;<br>import android.support.v4.app.FragmentPagerAdapter;<br>import android.view.View;</p><p>public class Fragment_tab_pager_adapter extends FragmentPagerAdapter {</p><pre><code>private final int PAGER_COUNT = 4;private Fragment\_tab\_one fg\_page\_one = null;private Fragment\_tab\_two fg\_page\_two = null;private Fragment\_tab\_three fg\_page\_three = null;private Fragment\_tab\_four fg\_page\_four = null;public Fragment\_tab\_pager_adapter(FragmentManager fm) {    super(fm);    fg\_page\_one = new Fragment\_tab\_one();    fg\_page\_two = new Fragment\_tab\_two();    fg\_page\_four = new Fragment\_tab\_four();    fg\_page\_three = new Fragment\_tab\_three();        }//获取给定位置的Fragment(将顺序页面和Fragment关联起来，并将其返回)@Overridepublic Fragment getItem(int position) {    Fragment fragment = null;    switch (position) {    case MainActivity.PAGE_ONE:        fragment = fg\_page\_one;        break;    case MainActivity.PAGE_TWO:        fragment = fg\_page\_two;        break;    case MainActivity.PAGE_THREE:        fragment = fg\_page\_three;        break;    case MainActivity.PAGE_FOUR:        fragment = fg\_page\_four;        break;    }    return fragment;}@Overridepublic int getCount() {    return PAGER_COUNT;}@SuppressWarnings(&quot;deprecation&quot;)@Overridepublic Object instantiateItem(View container, int position) {    // TODO Auto-generated method stub    return super.instantiateItem(container, position);}@SuppressWarnings(&quot;deprecation&quot;)@Overridepublic void destroyItem(View container, int position, Object object) {    // TODO Auto-generated method stub    super.destroyItem(container, position, object);}</code></pre><p>}</p><p>在MainActivity中，我们要继承FragmentActivity；实现滑动事件以及点击事件。要注意的是所继承的Fragment、FragmentActivity都来自android.support.v4.app这个包，ViewPager也是。 MainActivity.java如下：</p><p>package com.example.tab_menu_use_iconfont;</p><p>import android.graphics.Typeface;<br>import android.os.Bundle;<br>import android.support.v4.app.FragmentActivity;<br>import android.support.v4.view.ViewPager;<br>import android.view.Menu;<br>import android.view.MenuItem;<br>import android.widget.RadioButton;<br>import android.widget.RadioGroup;<br>import android.widget.RadioGroup.OnCheckedChangeListener;</p><p>public class MainActivity extends FragmentActivity implements ViewPager.OnPageChangeListener, OnCheckedChangeListener {</p><pre><code>private RadioGroup rg_tab;private RadioButton rb\_one, rb\_two, rb\_three, rb\_four;private ViewPager viewPager;private Fragment\_tab\_pager\_adapter fg\_pager_adapter;// 页面的常量public static final int PAGE_ONE = 0;public static final int PAGE_TWO = 1;public static final int PAGE_THREE = 2;public static final int PAGE_FOUR = 3;@Overrideprotected void onCreate(Bundle savedInstanceState) {    super.onCreate(savedInstanceState);    setContentView(R.layout.activity_main);    rb\_one = (RadioButton) findViewById(R.id.rb\_one);    rb\_two = (RadioButton) findViewById(R.id.rb\_two);    rb\_three = (RadioButton) findViewById(R.id.rb\_three);    rb\_four = (RadioButton) findViewById(R.id.rb\_four);            //声明要用到的IconFont字体，并将RadioButton的字体设置为IconFont的    Typeface iconfont = Typeface.createFromAsset(getAssets(), &quot;iconfont/iconfont.ttf&quot;);    rb_one.setTypeface(iconfont);    rb_two.setTypeface(iconfont);    rb_three.setTypeface(iconfont);    rb_four.setTypeface(iconfont);    rb_one.setChecked(true);    rg\_tab = (RadioGroup) findViewById(R.id.rg\_tab);    rg_tab.setOnCheckedChangeListener(this);    fg\_pager\_adapter = new Fragment\_tab\_pager_adapter(getSupportFragmentManager());    viewPager = (ViewPager) findViewById(R.id.viewPager);    viewPager.setAdapter(fg\_pager\_adapter);    viewPager.setOnPageChangeListener(this);}@Overridepublic boolean onCreateOptionsMenu(Menu menu) {    // Inflate the menu; this adds items to the action bar if it is present.    getMenuInflater().inflate(R.menu.main, menu);    return true;}@Overridepublic boolean onOptionsItemSelected(MenuItem item) {    // Handle action bar item clicks here. The action bar will    // automatically handle clicks on the Home/Up button, so long    // as you specify a parent activity in AndroidManifest.xml.    int id = item.getItemId();    if (id == R.id.action_settings) {        return true;    }    return super.onOptionsItemSelected(item);}@Overridepublic void onPageScrollStateChanged(int pager) {    //pager == 2表示滑动已经完毕，并对应到当前导航栏按钮    if (pager == 2) {        switch (viewPager.getCurrentItem()) {        case PAGE_ONE:            rb_one.setChecked(true);            break;        case PAGE_TWO:            rb_two.setChecked(true);            break;        case PAGE_THREE:            rb_three.setChecked(true);            break;        case PAGE_FOUR:            rb_four.setChecked(true);            break;        }    }}@Overridepublic void onPageScrolled(int arg0, float arg1, int arg2) {    // TODO Auto-generated method stub}@Overridepublic void onPageSelected(int arg0) {    // TODO Auto-generated method stub}@Overridepublic void onCheckedChanged(RadioGroup group, int checkedId) {    switch (checkedId) {    case R.id.rb_one:        viewPager.setCurrentItem(PAGE_ONE);        break;    case R.id.rb_two:        viewPager.setCurrentItem(PAGE_TWO);        break;    case R.id.rb_three:        viewPager.setCurrentItem(PAGE_THREE);        break;    case R.id.rb_four:        viewPager.setCurrentItem(PAGE_FOUR);        break;    }}</code></pre><p>}</p><p>整个工程文件下载：<a href="http://www.isflee.com/owncloud/index.php/s/UpkzTogcWQ8EJaU" target="_blank" rel="noopener">tab_menu_use_iconfont.zip</a> (Bo主用的Eclipse+ADT的开发环境，这个压缩包是在Eclipse中正常导出的，文本编码是GBK)</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>[Android]resolveUri failed on bad bitmap uri: file:///mnt/sdcard/1.jpg</title>
      <link href="/posts/74cf4fe4/"/>
      <url>/posts/74cf4fe4/</url>
      
        <content type="html"><![CDATA[<p>在极客学院的视频–Android应用核心之Intent(2)中，发现 imageView.setImageURI(getIntent().getData());之后，并没有在ImageViewer类中显示图片。以下是后台的错误信息。</p><p><img src="/image/2016/08/2016-08-20_192552.png" alt="2016-08-20_192552"> </p><p>其实是文件权限问题，在/mnt/sdcard/里可见1.jpg的其他用户没有任何权限， </p><p><img src="/image/2016/08/2016-08-20_191439-300x132.png" alt="2016-08-20_191439"> </p><p>而且在这个sdcard里没法改权限，于是干脆把1.jpg扔到/tmp下，re管理器改下权限， <img src="/image/2016/08/2016-08-20_185406-300x142.jpg" alt="2016-08-20_185406">        </p><p>项目里改成 <code>File f = new File(&quot;/tmp/1.jpg&quot;);</code>就好了。</p>]]></content>
      
      
      <categories>
          
          <category> 日常笔记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>[Android]通过Intent启动另一个一个Activity</title>
      <link href="/posts/b67e66a5/"/>
      <url>/posts/b67e66a5/</url>
      
        <content type="html"><![CDATA[<p>一、调用setClass()方法：</p><p>Intent intent = new Intent();<br>intent.setClass(MainActivity.this, Activity_second.class);<br>startActivity(intent);</p><p>二、通过设置组件setComponent()，也称为显式Intent：</p><p>Intent intent = new Intent();<br>intent.setComponent(new ComponentName(“com.example.android_intent_1”, “com.example.android_intent_1.Activity_second”));<br>startActivity(intent);</p><p>三、隐式Intent：</p><p>Intent intent = new Intent(“com.example.android_intent_1.intent.action.Activity_second”);<br>startActivity(intent);</p>]]></content>
      
      
      <categories>
          
          <category> 日常笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Code </tag>
            
            <tag> Java </tag>
            
            <tag> 日常笔记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>[Android]Activity间传递数据的两种方法</title>
      <link href="/posts/a729367a/"/>
      <url>/posts/a729367a/</url>
      
        <content type="html"><![CDATA[<p>一、传递简单的数据 用到的方法：putExtra(); 在MainActivity中声明并传递：</p><p>Intent intent = new Intent();<br>intent.setClass(MainActivity.this, SecondActivity.class);<br>/*传递简单的数据-start<strong><strong><strong>**</strong></strong></strong>/<br>intent.putExtra(“str”, “Data!!!”);</p><p>在第二个Activity（SecondActivity）中获取： 一般用以下方法</p><p>/<em>先取得与当前activity关联的Intent，再获取数据</em>/<br>getIntent().getStringExtra(“str”);<br>String data_1 = getIntent().getStringExtra(“str”) + “&lt;-SecondActivity的第一种获取”;<br>Log.i(TAG, data_1);</p><p>当然也可以用这种：</p><p>/<em>使用Bundle去获取</em>/<br>Bundle bundle = getIntent().getExtras();<br>Log.i(TAG, bundle.getString(“str”) + “&lt;-SecondActivity的第二种获取”);</p><p>二、传递较为复杂的数据（例如boolean类型） 通过对象Bundle携带并传递数据。 用到的方法：putExtras(); （注意和第一种用到的方法，名称上只相差了一个字母“s”）。 在MainActivity中声明并传递：</p><p>Intent intent = new Intent();<br>intent.setClass(MainActivity.this, SecondActivity.class);<br>/<em>传递相对复杂的数据-start<strong><strong>**</strong></strong>/<br>Bundle data = new Bundle();<br>data.putBoolean(“boolean”, true);<br>intent.putExtras(data);<br>/</em>传递相对复杂的数据-end<strong><strong><em>**</em></strong></strong>/</p><p>在第二个Activity（SecondActivity）中获取：</p><p>/<em>使用Bundle获取</em>/<br>Bundle bundle = getIntent().getExtras();<br>Log.i(TAG, bundle.getString(“str”) + “&lt;-SecondActivity的第二种获取”);<br>Boolean data_2 = bundle.getBoolean(“boolean”);<br>/<em>传递的是boolean值，所以相应的用getBoolean()方法</em>/<br>Log.i(TAG, data_2 + “&lt;-SecondActivity复杂数据的获取”);</p>]]></content>
      
      
      <categories>
          
          <category> 日常笔记 </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>Debian：本地用户登陆vsftpd出现530 Login incorrect.</title>
      <link href="/posts/232594d3/"/>
      <url>/posts/232594d3/</url>
      
        <content type="html"><![CDATA[<p>今天为了方便传送文件，于是在debian8上搭建一个ftp服务器，但在登陆时出现530 Login incorrect。 搭建过程的简单介绍： 新建本地用户文件夹：</p><p>mkdir -p /var/www/ftp_user/</p><p>新建用户：</p><p>useradd ftp_user -s /sbin/nologin -d /var/www/ftp_user/</p><p>修改用户文件夹所有者为ftp_user：</p><p>chown -R ftp_user:ftp_user /var/www/ftp_user</p><p>vsftpd安装：</p><p>apt-get install vsftpd -y</p><p>vsftpd配置文件修改后的有效项目：</p><p>listen=NO<br>listen_ipv6=YES<br>anonymous_enable=NO<br>local_enable=YES<br>write_enable=YES<br>local_umask=022<br>dirmessage_enable=YES<br>use_localtime=YES<br>connect_from_port_20=YES<br>chroot_local_user=NO<br>pam_service_name=vsftpd<br>rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem<br>rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key<br>ssl_enable=NO</p><p>好了；现在尝试登陆却有 530 Login incorrect. 错误； 解决方法是修改/etc/pam.d/vsftpd文件：</p><p>vim /etc/pam.d/vsftpd</p><p>把auth   required        pam_shells.so这一行注释掉：</p><p>#auth   required        pam_shells.so</p><p>对了，曾经在ubuntu12.04搭建vsftpd也出现过同样的情况，用ubuntu12的同学可以参考下。</p>]]></content>
      
      
      <categories>
          
          <category> Code </category>
          
          <category> 日常笔记 </category>
          
      </categories>
      
      
    </entry>
    
  
  
    
    <entry>
      <title>示例页面</title>
      <link href="/sample-page/index.html"/>
      <url>/sample-page/index.html</url>
      
        <content type="html"><![CDATA[<p>这是一个范例页面。它和博客文章不同，因为它的页面位置是固定的，同时会显示于您的博客导航栏（大多数主题中）。大多数人会新增一个“关于”页面向访客介绍自己。它可能类似下面这样：</p><blockquote><p>我是一个很有趣的人，我创建了工厂和庄园。并且，顺便提一下，我的妻子也很好。</p></blockquote><p>……或下面这样：</p><blockquote><p>XYZ装置公司成立于1971年，公司成立以来，我们一直向市民提供高品质的装置。我们位于北京市，有超过2,000名员工，对北京市有着相当大的贡献。</p></blockquote><p>作为一个新的WordPress用户，您可以前往<a href="http://www.isflee.com/wordpress/wp-admin/" target="_blank" rel="noopener">您的仪表盘</a>删除这个页面，并建立属于您的全新内容。祝您使用愉快！</p>]]></content>
      
    </entry>
    
  
</search>
